{
    "env" : [
        {"logging_level" : "WARNING"}
    ],
    "info" : [
        { "name" : "Andy's Shop" }
    ],
    "devices" : {
        "triggers" : [
            {
                "label" : "Table Saw Voltage Detector",
                "id" : "table-saw-voltage-detector",
                "type" : "VoltageDetector",
                "config" : {
                    "connection_type" : "GPIO_PINS",
                    "pins" : [ "GPIO4", "GPIO5" ]
                }
            },
            {
                "label" : "Table Saw Left Button",
                "id" : "table-saw-left-button",
                "type" : "SimpleButton",
                "config" : {
                    "connection_type" : "GPIO_PINS",
                    "pins" : [ "GPIO7", "GPIO8" ]
                }
            },
            {
                "label" : "Table Saw Foot Sweep Button",
                "id" : "table-saw-foot-sweep-button",
                "type" : "SimpleButton",
                "config" : {
                    "connection_type" : "GPIO_PINS",
                    "pins" : [ "GPIO9", "GPI10" ]
                }
            }
        ],
        "listeners" : [
            {
                "label" : "Dust Collector",
                "id" : "dust-collector",
                "type" : "DustCollector",
                "connection" : {
                    "type" : "GPIO_PINS",
                    "pins" : [ "GPI11", "GPI12" ]
                },
                "config" : {
                    "min_runtime" : "10"
                }
            },
            {
                "label" : "Gate A",
                "id" : "gate-a",
                "type" : "Gate",
                "connection" : {
                    "type" : "GPIO_PINS",
                    "pins" : [ "GPI13", "GPI14" ]
                },
                "config" : {
                    "open_pwm" : "90",
                    "closed_pwm" : "180"
                }
            },
            {
                "label" : "Gate B",
                "id" : "gate-b",
                "type" : "Gate",
                "connection" : {
                    "type" : "GPIO_PINS",
                    "pins" : [ "GPI15", "GPI16" ]
                },
                "config" : {
                    "open_pwm" : "95",
                    "closed_pwm" : "160"
                }
            },
            {
                "label" : "Gate C",
                "id" : "gate-c",
                "type" : "Gate",
                "connection" : {
                    "type" : "GPIO_PINS",
                    "pins" : [ "GPI17", "GPI18" ]
                },
                "config" : {
                    "open_pwm" : "88",
                    "closed_pwm" : "155"
                }
            }
        ]
    },
    "tools": [
        {
            "name" : "Table Saw (Middle Position)",
            "id" : "table-saw-middle",
            "device_links" : {
                "triggers" : [
                    {
                        "id" : "table-saw-voltage-detector"
                    }
                ],
                "listeners" : [
                    {
                        "id" : "dust-collector",
                        "config" : {
                            "min_time" : "20"
                        }
                    },
                    {
                        "id" : "gate-a",
                        "config" : {
                            "position" : "open"
                        }
                    },
                    {
                        "id" : "gate-b",
                        "config" : {
                            "position" : "closed"
                        }
                    },
                    {
                        "id" : "gate-c",
                        "config" : {
                            "position" : "closed"
                        }
                    }
                ]
            }
        },
        {
            "name" : "Table Saw (Left Position)",
            "id" : "table-saw-left-position",
            "device_links" : {
                "triggers" : [
                    {
                        "id" : "table-saw-left-button"
                    }
                ],
                "listeners" : [
                    {
                        "id" : "dust-collector",
                        "config" : {
                            "min_time" : "20"
                        }
                    },
                    {
                        "id" : "gate-a",
                        "config" : {
                            "position" : "open"
                        }
                    },
                    {
                        "id" : "gate-b",
                        "config" : {
                            "position" : "open"
                        }
                    },
                    {
                        "id" : "gate-c",
                        "config" : {
                            "position" : "closed"
                        }
                    }
                ]
            }
        },
        {
            "name" : "Table Saw Foot Sweep Only",
            "id" : "table-saw-foot-sweep-only",
            "device_links" : {
                "triggers" : [
                    {
                        "id" : "table-saw-foot-sweep-button"
                    }
                ],
                "listeners" : [
                    {
                        "id" : "dust-collector",
                        "config" : {
                            "min_time" : "30"
                        }
                    },
                    {
                        "id" : "gate-a",
                        "config" : {
                            "position" : "open"
                        }
                    },
                    {
                        "id" : "gate-b",
                        "config" : {
                            "position" : "open"
                        }
                    },
                    {
                        "id" : "gate-c",
                        "config" : {
                            "position" : "open"
                        }
                    }
                ]
            }
        }
    ]
}